(this["webpackJsonpe2e-dashboard"]=this["webpackJsonpe2e-dashboard"]||[]).push([[3],{137:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(58),i=n.n(o),r=n(59),l=n(171),s=n(6),u=n(68),d=n(30),b=n(31),h=n(7),j=n(53),m=/^Nightly.*Pipeline$/,p=/.*Pipeline$/,f=function(e){if(e){var t=[],n=[];return e.workflows.forEach((function(e){null!=e.name.match(m)?t.push(Object(h.a)(Object(h.a)({},e),{},{readableName:Object(j.b)(e.name)})):null!=e.name.match(p)&&n.push(Object(h.a)(Object(h.a)({},e),{},{readableName:Object(j.b)(e.name)}))})),{nightly:t,manual:n}}return{nightly:null,manual:null}},g=function(e){var t,n,a={all:{id:0,name:"all-workflows",readableName:"All Workflows",badge_url:"https://img.shields.io/badge/All%20Workflows-passing-%2331c754?logo=GitHub",workflow_runs:{updated_at:new Date(0).toISOString()},html_url:"https://github.com/litmuschaos/litmus-e2e/tree/master/.github/workflows"},manual:[],nightly:[]},c=[];return null===e||void 0===e||null===(t=e.manual)||void 0===t||t.forEach((function(e){c.push(Object(d.a)("".concat(b.a.pipelinesByWorkflow(e.id),"?per_page=1")).then((function(t){var n,c,o,i,r;(a.manual.push(Object(h.a)(Object(h.a)({},e),{},{workflow_runs:null===t||void 0===t||null===(n=t.workflow_runs)||void 0===n?void 0:n[0]})),new Date(a.all.workflow_runs.updated_at).getTime()<new Date(null===t||void 0===t||null===(c=t.workflow_runs)||void 0===c||null===(o=c[0])||void 0===o?void 0:o.updated_at).getTime())&&(a.all.workflow_runs.updated_at=new Date(null===t||void 0===t||null===(i=t.workflow_runs)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.updated_at).toISOString())})))})),null===e||void 0===e||null===(n=e.nightly)||void 0===n||n.forEach((function(e){c.push(Object(d.a)("".concat(b.a.pipelinesByWorkflow(e.id),"?per_page=1")).then((function(t){var n,c,o,i,r;(a.nightly.push(Object(h.a)(Object(h.a)({},e),{},{workflow_runs:null===t||void 0===t||null===(n=t.workflow_runs)||void 0===n?void 0:n[0]})),new Date(a.all.workflow_runs.updated_at).getTime()<new Date(null===t||void 0===t||null===(c=t.workflow_runs)||void 0===c||null===(o=c[0])||void 0===o?void 0:o.updated_at).getTime())&&(a.all.workflow_runs.updated_at=new Date(null===t||void 0===t||null===(i=t.workflow_runs)||void 0===i||null===(r=i[0])||void 0===r?void 0:r.updated_at).toISOString())})))})),Promise.all(c).then((function(){return a}))},O=n(26),w=n(168),x=n(172),v=n(28),k=n(167),y=n(164),_=n(166),D=n(148),N=n.p+"static/media/slack.ff384727.svg",S=n.p+"static/media/github.1ca713cc.svg",T=n(147),B=Object(T.a)((function(e){return{appBar:{position:"sticky",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)"},toolBar:{height:"4.9rem",display:"flex",justifyContent:"space-between",background:e.palette.header,padding:e.spacing(0,7.5),"& *":{color:e.palette.text.secondary},"& nav":{flexGrow:1,marginLeft:e.spacing(15)}},details:{display:"flex",justifyContent:"flex-end"},nounderline:{textDecoration:"none"},chaosText:{fontSize:"1.625rem",color:e.palette.text.secondary,fontWeight:600},active:{background:"".concat(e.palette.cards.highlight," !important")},profileButtons:{marginTop:e.spacing(3.75)},homeIcon:{"& svg":{marginBottom:"0.3rem"}},rightSection:{display:"flex",justifyContent:"space-between","& div":{marginRight:"0.5rem"},"& a":{textDecoration:"none"}},slackIcon:{height:"max-content",paddingTop:"0.4rem"},middleSection:{display:"flex",justifyContent:"center",flexGrow:1,"& a":{margin:"0 1.5rem"}}}})),C=n(2),I=function(){var e=B(),t=Object(x.a)().t;return Object(C.jsx)("div",{"data-cy":"headerComponent",children:Object(C.jsx)(y.a,{className:e.appBar,children:Object(C.jsxs)(_.a,{disableGutters:!0,className:e.toolBar,children:[Object(C.jsx)(v.a,{to:{pathname:"/"},className:e.nounderline,children:Object(C.jsx)(k.a,{className:e.chaosText,variant:"body1",children:t("header.e2eDashboard")})}),Object(C.jsxs)("div",{className:e.middleSection,children:[Object(C.jsx)(v.a,{to:{pathname:"/",state:{pipelinesToDisplay:{manual:!0,nightly:!0}}},className:e.nounderline,children:Object(C.jsxs)(k.a,{variant:"body1",children:[Object(C.jsx)(D.a,{name:"home",size:"lg",color:"white"}),"\xa0",t("header.home")]})}),Object(C.jsx)(v.a,{to:{pathname:"/",state:{pipelinesToDisplay:{manual:!1,nightly:!0}}},className:e.nounderline,children:Object(C.jsxs)(k.a,{variant:"body1",children:[Object(C.jsx)(D.a,{name:"scheduleWorkflow",size:"lg",color:"white"}),"\xa0",t("header.nightlyRuns")]})}),Object(C.jsx)(v.a,{to:{pathname:"/",state:{pipelinesToDisplay:{manual:!0,nightly:!1}}},className:e.nounderline,children:Object(C.jsxs)(k.a,{variant:"body1",children:[Object(C.jsx)(D.a,{name:"workflow",size:"lg",color:"white"}),"\xa0",t("header.manualRuns")]})})]}),Object(C.jsxs)("div",{className:e.rightSection,children:[Object(C.jsx)("div",{className:e.slackIcon,children:Object(C.jsx)("a",{href:"https://slack.litmuschaos.io/",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:S,alt:"GitHub logo"})})}),Object(C.jsx)("div",{className:e.slackIcon,children:Object(C.jsx)("a",{href:"https://slack.litmuschaos.io/",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{src:N,alt:"Slack logo"})})})]})]})})})},R=Object(T.a)((function(e){return{root:{height:"100vh",width:"100%",gridTemplateColumns:"20.5em auto",gridTemplateRows:"6.5em auto",gridTemplateAreas:'"header header" "sidebar content"',"& ::-webkit-scrollbar":{width:"0.4rem",height:"0.4rem"},"& ::-webkit-scrollbar-track":{marginTop:e.spacing(1),webkitBoxShadow:"inset 0 0 8px ".concat(e.palette.common.black),backgroundColor:e.palette.border.main},"& ::-webkit-scrollbar-thumb":{backgroundColor:e.palette.highlight,borderRadius:8},"& img":{userDrag:"none"}},header:{gridArea:"header"},content:{gridArea:"content",padding:e.spacing(5,7.5,10),overflowY:"auto"}}})),z=function(e){var t=e.children,n=R();return Object(C.jsxs)("div",{className:n.root,children:[Object(C.jsx)(w.a,{}),Object(C.jsx)("header",{className:n.header,children:Object(C.jsx)(I,{})}),Object(C.jsx)("main",{className:n.content,children:t})]})},G=Object(T.a)({center:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}),P=function(e){var t=e.children,n=e.className,a=G();return Object(C.jsx)("div",{className:"".concat(a.center," ").concat(n),children:t})},W=n(169),E=Object(T.a)((function(e){return{spinner:{color:e.palette.primary.main}}})),A=function(e){var t=e.size,n=e.message,a=E();return Object(C.jsxs)("div",{children:[Object(C.jsx)(P,{children:Object(C.jsx)(W.a,{className:a.spinner,size:t||40})}),Object(C.jsx)(k.a,{children:n})]})},J=function(e){var t=e.children,n=e.style;return Object(C.jsx)(a.Suspense,{fallback:Object(C.jsx)("div",{style:null!==n&&void 0!==n?n:{},children:Object(C.jsx)(P,{children:Object(C.jsx)(A,{})})}),children:t})},H=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,345))})),L=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,338))})),U=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,309))})),$=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6)]).then(n.bind(null,335))})),K=function(e){var t=e.pipelineData;return Object(C.jsx)(z,{children:Object(C.jsx)(J,{style:{height:"80vh"},children:Object(C.jsxs)(s.d,{children:[Object(C.jsx)(s.b,{exact:!0,path:"/",render:function(e){return Object(C.jsx)(L,Object(h.a)(Object(h.a)({},e),{},{pipelineData:t}))}}),Object(C.jsx)(s.b,{exact:!0,path:"/workflows",render:function(e){return Object(C.jsx)(U,Object(h.a)(Object(h.a)({},e),{},{pipelineData:t}))}}),Object(C.jsx)(s.b,{exact:!0,path:"/all",render:function(e){return Object(C.jsx)($,Object(h.a)(Object(h.a)({},e),{},{pipelineData:t}))}}),Object(C.jsx)(s.b,{exact:!0,path:"/404",component:H}),Object(C.jsx)(s.a,{to:"/404"})]})})})},M=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(O.a)("manualRuns")&&Object(O.a)("nightlyRuns")&&Object(O.a)("allRuns")&&n||(Object(d.a)(b.a.allWorkflows()).then((function(e){var t=f(e);g(t).then((function(e){var t=e.nightly,n=e.manual,a=e.all;Object(O.b)("nightlyRuns",t),Object(O.b)("manualRuns",n),Object(O.b)("allRuns",a),c({nightly:t,manual:n,all:a})}))})).catch((function(){})),Object(O.a)("litmusGoCommits")||Object(d.a)(b.a.commits()).then((function(e){Object(O.b)("litmusGoCommits",e)})).catch((function(){})))}),[n]),Object(C.jsx)(l.a,{children:Object(C.jsx)(s.c,{history:u.a,children:Object(C.jsx)(K,{pipelineData:n})})})},V=n(57),Y=n(90),q=n(91),F=n(93),Q=n(38);V.a.use(q.a).use(Y.a).use(Q.e).init({lng:"en",fallbackLng:{"en-US":["en"],"en-GB":["en"],"en-UK":["en"],default:["en"]},debug:!0,ns:["translation"],defaultNS:"translation",backend:{loadPath:"".concat("/litmus-e2e/dashboard","/locales/{{lng}}/{{ns}}.yaml"),parse:function(e){return F.a.load(e)}},interpolation:{escapeValue:!1},react:{useSuspense:!1}});V.a;i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(M,{})}),document.getElementById("root"))},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(e,t){"undefined"!==typeof window&&localStorage.setItem(e,JSON.stringify(t))},c=function(e){return"undefined"!==typeof window?JSON.parse(localStorage.getItem(e)):null}},30:function(e,t,n){"use strict";var a=n(81),c=n.n(a);t.a=function(e){return c()({method:"GET",url:e,headers:{Accept:"application/vnd.github.v3+json"}}).then((function(e){return e.data})).catch((function(e){console.error(e)}))}},31:function(e,t,n){"use strict";var a="https://api.github.com",c="litmuschaos",o={allWorkflows:function(){return"".concat(a,"/repos/").concat(c,"/litmus-e2e/actions/workflows")},allPipelines:function(){return"".concat(a,"/repos/").concat(c,"/litmus-e2e/actions/runs")},pipelinesByWorkflow:function(e){return"".concat(a,"/repos/").concat(c,"/litmus-e2e/actions/workflows/").concat(e,"/runs")},pipelineJobs:function(e){return"".concat(a,"/repos/").concat(c,"/litmus-e2e/actions/runs/").concat(e,"/jobs")},releaseTag:function(){return"".concat(a,"/repos/").concat(c,"/litmus/releases/latest")},repoDetails:function(){return"".concat(a,"/repos/").concat(c,"/litmus")},commits:function(){return"".concat(a,"/repos/").concat(c,"/litmus-go/commits")}};t.a=o},53:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n(144),c=n(138),o=n(139),i=function(e){return null===e||void 0===e?void 0:e.replace(/-/g," ")},r=function(e,t){if(!e||!t)return"";var n=Object(a.a)({start:new Date(e),end:new Date(t)});return Object(c.a)(n)||"0 second"},l=function(e,t){return e&&t?Object(o.a)(new Date(e),new Date(t))||"0 second":""},s=function(e){var t=0;e.forEach((function(e){t+=new Date(null===e||void 0===e?void 0:e.completed_at).getTime()-new Date(null===e||void 0===e?void 0:e.started_at).getTime()}));var n=new Date;return r(n,new Date(n.getTime()+t))}},68:function(e,t,n){"use strict";var a=n(11),c=Object(a.a)({basename:"/litmus-e2e/dashboard"});t.a=c}},[[137,4,5]]]);
//# sourceMappingURL=main.01092336.chunk.js.map